{% extends 'ad_diwan/base.html' %}

<!---->
{% load i18n wagtailcore_tags wagtailimages_tags %}

<!---->
{% block content %}
<div
  class="mx-auto w-full prose prose-sm prose-video:rounded-box xl:prose-lg 2xl:prose-xl prose-headings:text-primary prose-img:rounded-box prose-img:w-full"
>
  <div
    class="not-prose card card-sm bg-base-100 border border-base-300 md:card-md xl:card-lg 2xl:card-xl"
  >
    <div class="card-body">
      {% with poet=page.get_parent %}
      <div class="flex items-center justify-between gap-4">
        <div class="flex items-center gap-4">
          <div>
            {% if poet.image %}
            <figure class="avatar">
              <div
                class="skeleton overflow-clip rounded-full size-12 lg:size-16"
              >
                {% image poet.image fill-1080x1080 %}
              </div>
            </figure>
            {% else %}
            <div class="avatar avatar-placeholder">
              <div
                class="bg-primary text-primary-content size-12 rounded-full lg:size-16"
              >
                <span class="text-2xl font-bold"
                  >{{ poet.title|slice:':1' }}</span
                >
              </div>
            </div>
            {% endif %}
          </div>

          <div class="grid gap-1">
            <h1 class="card-title text-primary font-black">{{ poet.title }}</h1>
            <span class="text-sm">
              {{ poet.get_children_count }} {% trans 'poems' %}
            </span>
          </div>
        </div>

        <div
          class="tooltip tooltip-left tooltip-primary rtl:tooltip-right"
          data-tip="{% trans 'Profile' %}"
        >
          <a
            href="{% pageurl poet %}"
            class="btn btn-square btn-sm btn-primary md:btn-md 2xl:btn-lg"
          >
            <i data-lucide="user" class="size-4 lg:size-6"></i>
            <span class="sr-only">{% trans 'View Profile' %}</span>
          </a>
        </div>
      </div>
    </div>
    {% endwith %}
  </div>

  <section>
    <h2>{% trans 'Description' %}</h2>
    <p>{{ poem.description }}</p>
  </section>

  <section>
    <h2>{% trans 'Poem' %}</h2>
    <div class="text-center whitespace-pre">{{ poem.content|richtext }}</div>
  </section>

  <section>
    <h2>{% trans 'Details' %}</h2>
    <div>{{ poem.details }}</div>
  </section>
</div>
{% endblock %}
